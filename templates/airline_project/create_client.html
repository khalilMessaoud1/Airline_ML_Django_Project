{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}Create New Client{% endblock title %}

{% block content %}
<div class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">
                        <i class="tim-icons icon-single-02"></i> Create New Client
                    </h4>
                    <p class="card-category">Fill in client information to generate ML predictions automatically</p>
                </div>
                <div class="card-body">
                    <!-- Display Messages -->
                    {% if messages %}
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endfor %}
                    {% endif %}

                    <form method="post" action="{% url 'create-client' %}">
                        {% csrf_token %}
                        
                        <!-- Basic Information -->
                        <h5 class="text-primary">Basic Information</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>First Name *</label>
                                    <input type="text" class="form-control" name="first_name" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Last Name *</label>
                                    <input type="text" class="form-control" name="last_name" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Email *</label>
                                    <input type="email" class="form-control" name="email" required>
                                </div>
                            </div>
                        </div>

                        <!-- Demographics -->
                        <h5 class="text-primary mt-4">Demographics</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Gender *</label>
                                    <select class="form-control" name="gender" required>
                                        <option value="">Select...</option>
                                        <option value="M">Male</option>
                                        <option value="F">Female</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Education *</label>
                                    <select class="form-control" name="education" required>
                                        <option value="">Select...</option>
                                        <option value="High School or Below">High School or Below</option>
                                        <option value="College">College</option>
                                        <option value="Bachelor">Bachelor</option>
                                        <option value="Master">Master</option>
                                        <option value="Doctor">Doctor</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Marital Status *</label>
                                    <select class="form-control" name="marital_status" required>
                                        <option value="">Select...</option>
                                        <option value="S">Single</option>
                                        <option value="M">Married</option>
                                        <option value="D">Divorced</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Salary *</label>
                                    <input type="number" class="form-control" name="salary" step="0.01" required>
                                </div>
                            </div>
                        </div>

                        <!-- Location -->
                        <h5 class="text-primary mt-4">Location</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Province *</label>
                                    <select class="form-control" name="province" required>
                                        <option value="">Select Province...</option>
                                        <option value="Ontario">Ontario</option>
                                        <option value="British Columbia">British Columbia</option>
                                        <option value="Quebec">Quebec</option>
                                        <option value="Alberta">Alberta</option>
                                        <option value="Manitoba">Manitoba</option>
                                        <option value="New Brunswick">New Brunswick</option>
                                        <option value="Nova Scotia">Nova Scotia</option>
                                        <option value="Saskatchewan">Saskatchewan</option>
                                        <option value="Newfoundland">Newfoundland</option>
                                        <option value="Yukon">Yukon</option>
                                        <option value="Prince Edward Island">Prince Edward Island</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>City *</label>
                                    <select class="form-control" name="city" required>
                                        <option value="">Select City...</option>
                                        <option value="Toronto">Toronto</option>
                                        <option value="Edmonton">Edmonton</option>
                                        <option value="Vancouver">Vancouver</option>
                                        <option value="Hull">Hull</option>
                                        <option value="Whitehorse">Whitehorse</option>
                                        <option value="Trenton">Trenton</option>
                                        <option value="Montreal">Montreal</option>
                                        <option value="Dawson Creek">Dawson Creek</option>
                                        <option value="Quebec City">Quebec City</option>
                                        <option value="Fredericton">Fredericton</option>
                                        <option value="Ottawa">Ottawa</option>
                                        <option value="Tremblant">Tremblant</option>
                                        <option value="Calgary">Calgary</option>
                                        <option value="Thunder Bay">Thunder Bay</option>
                                        <option value="Whistler">Whistler</option>
                                        <option value="Peace River">Peace River</option>
                                        <option value="Winnipeg">Winnipeg</option>
                                        <option value="Sudbury">Sudbury</option>
                                        <option value="West Vancouver">West Vancouver</option>
                                        <option value="Halifax">Halifax</option>
                                        <option value="London">London</option>
                                        <option value="Regina">Regina</option>
                                        <option value="Kelowna">Kelowna</option>
                                        <option value="St. John's">St. John's</option>
                                        <option value="Victoria">Victoria</option>
                                        <option value="Kingston">Kingston</option>
                                        <option value="Banff">Banff</option>
                                        <option value="Moncton">Moncton</option>
                                        <option value="Charlottetown">Charlottetown</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Loyalty Program -->
                        <h5 class="text-primary mt-4">Loyalty Program</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Loyalty Tier *</label>
                                    <select class="form-control" name="tier" required>
                                        <option value="">Select...</option>
                                        <option value="Star">Star</option>
                                        <option value="Nova">Nova</option>
                                        <option value="Aurora">Aurora</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Enrollment Type *</label>
                                    <select class="form-control" name="enrollment_type" required>
                                        <option value="">Select...</option>
                                        <option value="Standard">Standard</option>
                                        <option value="2018 Promotion">2018 Promotion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Enrollment Date *</label>
                                    <input type="date" class="form-control" name="enrollment_date" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Cancellation Date</label>
                                    <input type="date" class="form-control" name="cancellation_date">
                                </div>
                            </div>
                        </div>

                        <!-- Flight Data -->
                        <h5 class="text-primary mt-4">Flight Data</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Total Flights *</label>
                                    <input type="number" class="form-control" name="total_flights" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Distance (km) *</label>
                                    <input type="number" class="form-control" name="distance" step="0.01" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Flight Class *</label>
                                    <select class="form-control" name="flight_class" required>
                                        <option value="">Select...</option>
                                        <option value="Eco">Economy</option>
                                        <option value="Eco Plus">Economy Plus</option>
                                        <option value="Business">Business</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Travel Type *</label>
                                    <select class="form-control" name="travel_type" required>
                                        <option value="">Select...</option>
                                        <option value="Personal Travel">Personal Travel</option>
                                        <option value="Business travel">Business Travel</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Points & Rewards -->
                        <h5 class="text-primary mt-4">Points & Rewards</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Points Accumulated *</label>
                                    <input type="number" class="form-control" name="points_accumulated" step="0.01" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Points Redeemed *</label>
                                    <input type="number" class="form-control" name="points_redeemed" step="0.01" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Dollar Cost Points Redeemed</label>
                                    <input type="number" class="form-control" name="dollar_cost_points_redeemed" step="0.01" value="0">
                                </div>
                            </div>
                        </div>

                        <!-- Satisfaction & Rating -->
                        <h5 class="text-primary mt-4">Satisfaction & Rating</h5>
                        <hr>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Satisfaction (1-5) *</label>
                                    <input type="number" class="form-control" name="satisfaction" min="1" max="5" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Rating Value (0-5) *</label>
                                    <input type="number" class="form-control" name="rating_value" step="0.1" min="0" max="5" required>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-primary btn-lg btn-block">
                                    <i class="tim-icons icon-check-2"></i> Create Client & Run ML Predictions
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}